Lprofileslit=[-0.349 -3.087 -0.175 -1.907 0 0];
Ldomaslit=[-0.915 4.225 -1.743 2.621 -1.042 0];
Lprofilescan=[-0.02 0.065 -0.283 -0.535 0 0];
Ldomascan=[0.149 0.132 0.643 1.040 0.351 0.456];
intrashotxcd=[39.238	39.283	39.206	39.171	39.051	39.159	38.934	39.092	39.153;
-12.04	-8.7253	-8.1812	-3.8816	-0.00596	4.2936	8.1692	9.4699	11.956;
38.922	38.968	38.568	39.007	38.707	39.099	38.691	39.081	39.175;
-12.04	-8.7253	-8.1812	-3.8816	-0.005962	4.2936	8.1692	9.4699	11.956;
38.845	38.916	38.788	38.93	38.927	38.937	38.776	38.957	38.955;
-12.04	-8.7253	-8.1812	-3.8816	-0.00596	4.2936	8.1692	9.4699	11.956;
38.694	38.852	38.691	38.842	38.824	38.851	38.876	38.744	38.922;
-12.04	-8.7253	-8.1812	-3.8816	-0.00596	4.2936	8.1692	9.4699	11.956;
38.84	38.936	38.83	39.021	38.915	39.025	38.918	38.926	39.058;
-12.04	-8.7253	-8.1812	-3.8816	-0.005962	4.2936	8.1692	9.4699	11.956;
39.107	39.07	38.97	39.089	38.728	39.025	38.582	38.949	39.01;
-12.04	-8.7253	-8.1812	-3.8816	-0.005959	4.2936	8.1692	9.4699	11.956;
38.879	38.848	38.941	38.968	38.962	39.001	38.992	38.922	39.035;
-12.04	-8.7253	-8.1812	-3.8816	-0.005962	4.2936	8.1692	9.4699	11.956;
38.785	38.787	38.699	38.852	38.905	38.894	38.975	38.818	38.896;
-12.04	-8.7253	-8.1812	-3.8816	-0.00596	4.2936	8.1692	9.4699	11.956;
38.809	38.816	38.699	38.873	38.823	38.866	38.688	38.855	38.894;
-12.04	-8.7253	-8.1812	-3.8816	-0.00596	4.2936	8.1692	9.4699	11.956;]
intrashotycd=[39.256	39.231	39.195	39.16	39.186	39.131	39.098	39.143	39.064;
-14.35	-10.243	-4.0822	-2.0286	2.0786	4.1322	10.293	14.4	16.153;
39.03	39	39.087	39.058	39.025	39.039	39.039	39.083	38.655;
-14.35	-10.243	-4.0822	-2.0286	2.0786	4.1322	10.293	14.4	16.153;
39.006	38.946	38.918	38.903	38.901	38.795	38.882	38.956	38.83;
-14.35	-10.243	-4.0822	-2.0286	2.0786	4.1322	10.293	14.4	16.153;
38.801	38.753	38.74	38.803	38.811	38.819	38.866	38.965	38.797;
-14.35	-10.243	-4.0822	-2.0286	2.0786	4.1322	10.293	14.4	16.153;
38.909	38.871	38.99	38.968	38.961	38.884	39.034	39.166	38.888;
-14.35	-10.243	-4.0822	-2.0286	2.0786	4.1322	10.293	14.4	16.153;
39.103	39.108	39.078	38.957	39.024	38.953	38.986	39.031	38.76;
-14.35	-10.243	-4.0822	-2.0286	2.0786	4.1322	10.293	14.4	16.153;
39.023	38.911	38.97	38.877	38.876	38.883	38.906	39.024	38.965;
-14.35	-10.243	-4.0822	-2.0286	2.0786	4.1322	10.293	14.4	16.153;
38.882	38.835	38.865	38.811	38.82	38.739	38.841	38.867	38.86;
-14.35	-10.243	-4.0822	-2.0286	2.0786	4.1322	10.293	14.4	16.153;
38.909	38.878	38.933	38.844	38.924	38.812	38.727	38.799	38.737;
-14.35	-10.243	-4.0822	-2.0286	2.0786	4.1322	10.293	14.4	16.153;]

x0=-1:0.01:1;
yprofileslit=0;
ydoma=0;
for i=1:6
  yprofileslit = yprofileslit + Lprofileslit(i)*legendre(i,x0)(1,:);
  ydoma = ydoma + Ldomaslit(i)*legendre(i,x0)(1,:);
end
y0=yprofileslit+ydoma;
figure,plot(x0,y0);



P=legendre(n,X);
n是阶数，X是输入的自变量。
它会生成m=0,1,2,...,n级的连带勒让德函数，勒让德函数就是0级
勒让德只能用在-1：1
所以对于shot的-12：12
需要先归一化到-1：1

根据雷利准则（Rayleigh criterion），光学系统能够分辨出的最小宽度，也就是解析度，和光的波长成正比，与数值孔径NA成反比R=k1.λ/NA
这就是所谓的饶舌极限（diffraction limit），使用较短波长的曝光源，或者使用较大的数值孔径，在理论上可以提高解析能力，可以做到更小的线宽
根据雷利准则的另一个关系式
DOF=K2.λ/(NA)^2
不论是使用较短波长的曝光源或者较大的数值孔径，都会使聚焦深度（Depth of Focus）变小，聚焦深度越大越适合量产，因此在把线宽做小的情况下维持量产向来是半导体行业最大的挑战

在光线图中，光源的光透过镜头经过折射聚焦到焦平面上，介质为空气时，折射光线与出射镜头平面的夹角过大时，光线会反射回镜头内部，介质为水时，能够容忍更大的入射角
镜头图片
https://zhuanlan.zhihu.com/p/285660894
https://zhuanlan.zhihu.com/p/533770532

